{"data":{"site":{"siteMetadata":{"fullName":"olivia ifrim","settings":{"disqusShortName":"oliviaifrim"}}},"markdownRemark":{"id":"e1a466a4-eec2-5fc6-b6a6-3acdefd62f0e","html":"<p>In this series we will implement a very simple Bloom filter in c++. </p>\n<p>But first things first. What's a Bloom filter? </p>\n<p>Simply put, a Bloom filter is a data structure used for doing lookups of items in sets. </p>\n<ul>\n<li>If the result of the lookup is <code class=\"language-text\">false</code>, the item is definitely not in the set</li>\n<li>If the result of the lookup is <code class=\"language-text\">true</code>, the item <em>might</em> be in the set</li>\n</ul>\n<p>Note that the Bloom filter doesn't store the raw data so it's not a replacement for storage. The advantage it offers is a constant time lookup optimized for when items are not present in the set.</p>\n<p>Let's take a an example. We'll start by putting some items into the Bloom filter.</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"A\"</span><span class=\"token punctuation\">)</span> \n<span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"B\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token function\">put</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"C\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Now let's ask the filter if these items are present</p>\n<div class=\"gatsby-highlight\" data-language=\"cpp\"><pre class=\"language-cpp\"><code class=\"language-cpp\"><span class=\"token function\">isMaybePresent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"D\"</span><span class=\"token punctuation\">)</span> \n<span class=\"token boolean\">false</span> \n<span class=\"token comment\">// the item is definitely not in the set, and we know this is correct</span>\n\n<span class=\"token function\">isMaybePresent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"A\"</span><span class=\"token punctuation\">)</span> \n<span class=\"token boolean\">true</span>\n<span class=\"token comment\">// the item *might* be present, and we know it is, since we've inserted it</span>\n\n<span class=\"token function\">isMaybePresent</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"E\"</span><span class=\"token punctuation\">)</span> \n<span class=\"token boolean\">true</span>\n<span class=\"token comment\">// the item *might* be present, and we know it's not, since we never inserted it</span>\n<span class=\"token comment\">// but it doesn't matter, because we mostly care about when the answer is false</span>\n<span class=\"token comment\">// and we can afford a few false positives</span></code></pre></div>\n<p>And at this point you might be asking yourself, why would anyone use a Bloom filter when it doesn't actually store any data, and it can only tell you if something is not present or maybe present?</p>\n<p>Imagine you are building Medium's recommended articles feature. Your recommendation engine gives you a list of articles which the user might enjoy based on their interests. But the recommendation engine has no state, so in this list you could have articles that the user has already read. In order to filter this list out you could of course make database queries for every article to see if they have been read, but that will be expensive. There must be a better way. </p>\n<p><strong>Enter the Bloom filter!</strong>   </p>\n<p>What if we kept a Bloom filter for every user with the articles they've read? Querying the Bloom filter is a constant time operation, and we wouldn't need to call the database at all. All we have to do is keep the Bloom filter up to date, so every time a user reads something we insert it into the Bloom filter.</p>\n<p>Fun fact, this is actually <a href=\"https://blog.medium.com/what-are-bloom-filters-1ec2a50c68ff#.xlkqtn1vy\">what Medium does</a>. </p>\n<p>Bloom filters are widely used for this type of quick filtering when the answer is mostly no. They are also used in <a href=\"http://blog.alexyakunin.com/2010/03/nice-bloom-filter-application.html\">Chrome</a>, <a href=\"https://www.akamai.com/jp/ja/multimedia/documents/technical-publication/algorithmic-nuggets-in-content-delivery-technical-publication.pdf\">Akamai</a> and <a href=\"http://www.newsbtc.com/2016/05/10/developers-introduce-bloom-filters-improve-bitcoin-wallet-security/\">Bitcoin</a>.</p>\n<p>Now that we've seen what Bloom filters can do and why they are useful, we'll look at how they do this in <a href=\"/posts/3-bloom-filter-part-2/\">part 2</a>.</p>","frontmatter":{"title":"Implementing a Bloom filter - Part 1","date":"May 22, 2017","tags":["bloom filter","bloom","cpp","c++"],"featuredImage":{"childImageSharp":{"sizes":{"base64":"data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAJABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAQDBf/EABcBAAMBAAAAAAAAAAAAAAAAAAECAwT/2gAMAwEAAhADEAAAAXQgrzGNmuv/xAAbEAACAQUAAAAAAAAAAAAAAAABAiEDIjJBQ//aAAgBAQABBQKnaSYZp57fP//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/ASf/xAAVEQEBAAAAAAAAAAAAAAAAAAAAAf/aAAgBAgEBPwGo/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEQIQIREv/aAAgBAQAGPwLuluKMIZ//xAAbEAADAAIDAAAAAAAAAAAAAAAAAREhoTFhwf/aAAgBAQABPyHGpCKqcl8DJidNi3I8Gyf/2gAMAwEAAgADAAAAEKcP/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERIf/aAAgBAwEBPxCJBrT/xAAXEQEBAQEAAAAAAAAAAAAAAAABABEh/9oACAECAQE/EE7qw4X/xAAdEAEAAgICAwAAAAAAAAAAAAABABEhMUHwUWGh/9oACAEBAAE/ECohQ7C4b9wK1Wc2TgGNOgzq/MN+tz78/9k=","aspectRatio":2.3333333333333335,"src":"/static/00364c1a00ba71b2f933500d3c005f7f/81388/bloom-flower-1.jpg","srcSet":"/static/00364c1a00ba71b2f933500d3c005f7f/cb2d9/bloom-flower-1.jpg 175w,\n/static/00364c1a00ba71b2f933500d3c005f7f/7e73d/bloom-flower-1.jpg 350w,\n/static/00364c1a00ba71b2f933500d3c005f7f/81388/bloom-flower-1.jpg 688w","sizes":"(max-width: 688px) 100vw, 688px"}}}}}},"pageContext":{"slug":"/posts/2-bloom-filter-part-1/","previous":{"fields":{"slug":"/posts/1-hello-world/"},"frontmatter":{"title":"Hello world"}},"next":{"fields":{"slug":"/posts/3-bloom-filter-part-2/"},"frontmatter":{"title":"Implementing a Bloom filter - Part 2"}}}}